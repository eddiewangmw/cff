jQuery(document).ready(function(e){"use strict";function t(e){var t=e.find(".gp-clone:last"),r=t.clone(),e,i;r.insertAfter(t);e=r.find(":input");e.val("");i=e.attr("name").replace(/\[(\d+)\]/,function(e,t){return"["+(parseInt(t)+1)+"]"});e.attr("name",i);n(e);if("function"===typeof gp_update_color_picker)gp_update_color_picker();if("function"===typeof gp_update_date_picker)gp_update_date_picker();if("function"===typeof gp_update_time_picker)gp_update_time_picker();if("function"===typeof gp_update_datetime_picker)gp_update_datetime_picker()}function n(t){"use strict";var n;if(!t)t=e(".gp-block");t.each(function(){n=e(this).find(".remove-clone");n.length<2?n.hide():n.show()})}n();e(".gp-add-clone").click(function(){"use strict";var r=e(this).parents(".gp-field"),i=e(this).parents(".gp-block").attr("clone-group");if(i){var s=e(this).parents(".inside");var o=s.find('div[clone-group="'+i+'"]');e.each(o.find(".gp-field"),function(n,r){t(e(r))})}else{t(r)}n(r);return false});e(".gp-field").delegate(".remove-clone","click",function(){"use strict";var t=e(this),r=t.parents(".gp-field"),i=e(this).parents(".gp-block").attr("clone-group");if(r.find(".gp-clone").length<=1)return false;if(i){var s=e(this).parents(".inside");var o=s.find('div[clone-group="'+i+'"]');var u=t.parent().index();e.each(o.find(".gp-field"),function(t,r){e(r).children(".gp-clone").eq(u).remove();n(e(r))})}else{t.parent().remove();n(r)}return false})})